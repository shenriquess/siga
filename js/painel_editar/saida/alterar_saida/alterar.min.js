$(document).ready(function(){var o,a,t,e,i,n,r,d,c,l,m,s,f,p,v;function u(o){var a=$("#formContrato"),t='<option value="0">Contrato</option>';a.empty();for(var e in saidas)if(saidas.hasOwnProperty(e)&&saidas[e].id_item==o)for(var i in contratos)contratos.hasOwnProperty(i)&&contratos[i].id_item_contrato==saidas[e].id_item_contrato&&(t+='<option value="'+contratos[i].id_item_contrato+'">'+contratos[i].codigo+"</option>");a.append(t)}function _(o){var a=$("#labelUnidade");for(var t in itens)if(itens.hasOwnProperty(t)&&itens[t].id_item==o)for(var e in unidades)if(unidades.hasOwnProperty(e)&&unidades[e].unidade_id==itens[t].unidade_padrao_id)return void a.text(unidades[e].nome)}function b(){var i=$("#formDataSaida"),n=$("#formDestino option:selected"),r=$("#formItem option:selected"),d=$("#formQuantidade"),c=$("#formContrato option:selected"),l=$("#formTipo option:selected"),m=!1;return""==i.val()?(m=!0,notificacao_alerta("Selecione uma <b>Data de Saída</b>.")):pegaData(i.val())>new Date?(m=!0,notificacao_alerta("A <b>Data Saida</b> não pode ser maior que a data atual.")):0==n.val()?(m=!0,notificacao_alerta("Selecione um <b>Destino</b>.")):0==r.val()?(m=!0,notificacao_alerta("Selecione um <b>Item</b>.")):0==c.val()?(m=!0,notificacao_alerta("Selecione um <b>Contrato</b>.")):0==l.val()?(m=!0,notificacao_alerta("Selecione um <b>Tipo</b>.")):isNaN(d.val())?(m=!0,notificacao_alerta("Insira apenas números em <b>Quantidade</b>.")):0==parseInt(d.val())?(m=!0,notificacao_alerta("Insira um número maior que zero em <b>Quantidade</b>.")):o==i.val()&&a==n.val()&&t==r.val()&&contratoAtual==c.val()&&e==d.val()&&(m=!0,notificacao_alerta("Não há nenhuma atualização nos campos.")),m}i=$("#botaoAlterarDados"),n=$("#formItem"),r=$("#formItem option:selected"),d=$("#formContrato"),c=$("#formTipo"),$("#formContrato option:selected"),l=$("#confFormEnviar"),m=$("#formDataSaida"),s=$("#formDestino option:selected"),f=$("#formItem option:selected"),p=$("#formContrato option:selected"),v=$("#formQuantidade"),o=m.val(),a=s.val(),t=f.val(),contratoAtual=p.val(),e=v.val(),_(r.val()),i.click(function(){var o,a,t,e,i,n,r,d,c,m,s,f,p,v;b()?l.off():($("#myModal").modal("show"),o=$("#confFormDataSaida"),a=$("#confFormDestino"),t=$("#confFormItem"),e=$("#confFormQuantidade"),i=$("#confFormContrato"),n=$("#confFormTipo"),r=$("#confLabelUnidade"),d=$("#formDataSaida"),c=$("#formDestino option:selected"),m=$("#formItem option:selected"),s=$("#formQuantidade"),f=$("#formContrato option:selected"),p=$("#formTipo option:selected"),v=$("#labelUnidade"),o.text(d.val()),a.text(c.text()),t.text(m.text()),e.text(s.val()),i.text(f.text()),n.text(p.text()),r.text(v.text()),l.click(function(){var o,a;o=$("#formAlterarSaida"),a=$("#myModal"),b()?a.modal("hide"):o.submit()}))}),c.change(function(){!function(o){var a=$("#formItem"),t='<option value="0">Item</option>';a.empty();for(var e in tipos)if(tipos.hasOwnProperty(e)&&tipos[e].id_tipo==o)for(var i in itens)itens.hasOwnProperty(i)&&itens[i].id_tipo==tipos[e].id_tipo&&(t+='<option value="'+itens[i].id_item+'">'+itens[i].nome+"</option>");a.append(t)}($(this).val())}),n.change(function(){_($(this).val()),u($(this).val())}),d.onchange(function(){u(n.val())}),$("#dataSaida").datepicker(formatoData)});
