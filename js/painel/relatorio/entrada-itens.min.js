$(document).ready(function(){b();$("#dataInicio").datepicker(formatoData);$("#dataFim").datepicker(formatoData);$("#formContrato").change(a);$("#formTipo").change(b);var c=$("#formEntradaItens");$("#botaoExpandirGerarPdf").click(function(){if(!d()){c.attr("target","_blank");c.attr("action",baseUrlPdf);c.submit()}});$("#botaoExpandirPesquisar").click(function(){if(!d()){c.attr("target","_self");c.attr("action",baseUrlExpandir);c.submit()}});$("#botaoListaExpandir").click(function(){if(!d()){c.attr("target","_blank");c.attr("action",baseUrlExpandir);c.submit()}});$("#botaoListaPesquisar").click(function(){if(!d()){c.attr("target","_self");c.attr("action",baseUrlLista);c.submit()}});function a(){if($("#formContrato option:selected").val()!=0){var e=$("#formContrato option:selected").text();e=e.split("-");$("#formFornecedor").html('<option value="0">'+e[0]+"</option>")}else{$("#formFornecedor").html('<option value="0">Todos os Fornecedores</option>');for(i in fornecedores){if(fornecedores.hasOwnProperty(i)){$("#formFornecedor").append('<option value="'+fornecedores[i]["id_fornecedor"]+'">'+fornecedores[i]["nome"]+"</option>")}}}}function b(){$("#formItem").html('<option value="0">Todos os Itens</option>');for(i in itens){if(itens.hasOwnProperty(i)&&itens[i]["id_tipo"]==$("#formTipo option:selected").val()){$("#formItem").append('<option value="'+itens[i]["id_item"]+'">'+itens[i]["nome"]+"</option>")}}}function d(){var e=false;if($("#formDataInicio").val()==""){e=true;notificacao_erro("<h5>Escolha uma <b>Data de Início.</b></h5>")}else{if($("#formDataFim").val()==""){e=true;notificacao_erro("<h5>Escolha uma <b>Data de Fim.</b></h5>")}else{if(pegaData($("#formDataInicio").val())>pegaData($("#formDataFim").val())){e=true;notificacao_erro("A <b>Data Início</b> não pode ser maior que a <b>Data Fim</b>.")}else{if(pegaData($("#formDataFim").val())>new Date()){e=true;notificacao_alerta("A <b>Data Fim</b> não pode ser maior que a data atual.")}}}}return e}});